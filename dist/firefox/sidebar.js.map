{"version":3,"file":"sidebar.js","mappings":"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","sources":["webpack://assistente-de-regulacao-medica/./sidebar.js","webpack://assistente-de-regulacao-medica/webpack/bootstrap","webpack://assistente-de-regulacao-medica/webpack/runtime/chunk loaded","webpack://assistente-de-regulacao-medica/webpack/runtime/define property getters","webpack://assistente-de-regulacao-medica/webpack/runtime/hasOwnProperty shorthand","webpack://assistente-de-regulacao-medica/webpack/runtime/make namespace object","webpack://assistente-de-regulacao-medica/webpack/runtime/jsonp chunk loading","webpack://assistente-de-regulacao-medica/webpack/before-startup","webpack://assistente-de-regulacao-medica/webpack/startup","webpack://assistente-de-regulacao-medica/webpack/after-startup"],"sourcesContent":["import * as API from './api.js';\r\nimport './browser-polyfill.js';\r\nimport { defaultFieldConfig } from './field-config.js';\r\nimport * as Renderers from './renderers.js';\r\nimport { SectionManager } from './SectionManager.js';\r\nimport { store } from './store.js';\r\nimport { TimelineManager } from './TimelineManager.js'; // Importa o novo gestor\r\nimport * as PatientCard from './ui/patient-card.js';\r\nimport * as Search from './ui/search.js';\r\nimport * as Utils from './utils.js';\r\n\r\n// --- ÍCONES ---\r\nconst sectionIcons = {\r\n  'patient-details':\r\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-user-round-check-icon lucide-user-round-check\"><path d=\"M2 21a8 8 0 0 1 13.292-6\"/><circle cx=\"10\" cy=\"8\" r=\"5\"/><path d=\"m16 19 2 2 4-4\"/></svg>',\r\n  timeline:\r\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-gantt-chart\"><path d=\"M8 6h10\"/><path d=\"M6 12h9\"/><path d=\"M11 18h7\"/></svg>',\r\n  regulations:\r\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-shield-check-icon lucide-shield-check\"><path d=\"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\"/><path d=\"m9 12 2 2 4-4\"/></svg>',\r\n  consultations:\r\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-stethoscope-icon lucide-stethoscope\"><path d=\"M11 2v2\"/><path d=\"M5 2v2\"/><path d=\"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1\"/><path d=\"M8 15a6 6 0 0 0 12 0v-3\"/><circle cx=\"20\" cy=\"10\" r=\"2\"/></svg>',\r\n  exams:\r\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-microscope-icon lucide-microscope\"><path d=\"M6 18h8\"/><path d=\"M3 22h18\"/><path d=\"M14 22a7 7 0 1 0 0-14h-1\"/><path d=\"M9 14h2\"/><path d=\"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z\"/><path d=\"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3\"/></svg>',\r\n  appointments:\r\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-calendar-check-icon lucide-calendar-check\"><path d=\"M8 2v4\"/><path d=\"M16 2v4\"/><rect width=\"18\" height=\"18\" x=\"3\" y=\"4\" rx=\"2\"/><path d=\"M3 10h18\"/><path d=\"m9 16 2 2 4-4\"/></svg>',\r\n  documents:\r\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"lucide lucide-file-text\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8Z\"/><path d=\"M14 2v6h6\"/><path d=\"M16 13H8\"/><path d=\"M16 17H8\"/></svg>',\r\n};\r\n\r\nlet currentRegulationData = null;\r\nconst sectionManagers = {}; // Objeto para armazenar instâncias de SectionManager\r\n\r\n// --- FUNÇÃO AUXILIAR DE FILTRAGEM ---\r\n/**\r\n * Aplica um filtro de texto normalizado a um array de dados.\r\n * @param {Array} items - O array de itens a ser filtrado.\r\n * @param {string} text - O texto de busca (pode conter múltiplos termos separados por vírgula).\r\n * @param {Function} getFieldContent - Uma função que recebe um item e retorna a string a ser pesquisada.\r\n * @returns {Array} O array de itens filtrado.\r\n */\r\nconst applyNormalizedTextFilter = (items, text, getFieldContent) => {\r\n  const searchTerms = Utils.normalizeString(text)\r\n    .split(',')\r\n    .map((t) => t.trim())\r\n    .filter(Boolean);\r\n  if (searchTerms.length === 0) return items;\r\n  return items.filter((item) => {\r\n    const content = Utils.normalizeString(getFieldContent(item));\r\n    return searchTerms.some((term) => content.includes(term));\r\n  });\r\n};\r\n\r\n// --- LÓGICA DE FILTRAGEM ---\r\nconst consultationFilterLogic = (data, filters) => {\r\n  let filteredData = [...data];\r\n  if (filters['hide-no-show-checkbox']) {\r\n    filteredData = filteredData.filter((c) => !c.isNoShow);\r\n  }\r\n\r\n  filteredData = applyNormalizedTextFilter(\r\n    filteredData,\r\n    filters['consultation-filter-keyword'],\r\n    (c) =>\r\n      [\r\n        c.specialty,\r\n        c.professional,\r\n        c.unit,\r\n        ...c.details.map((d) => `${d.label} ${d.value}`),\r\n      ].join(' ')\r\n  );\r\n\r\n  filteredData = applyNormalizedTextFilter(\r\n    filteredData,\r\n    filters['consultation-filter-cid'],\r\n    (c) => c.details.map((d) => d.value).join(' ')\r\n  );\r\n\r\n  filteredData = applyNormalizedTextFilter(\r\n    filteredData,\r\n    filters['consultation-filter-specialty'],\r\n    (c) => c.specialty || ''\r\n  );\r\n  filteredData = applyNormalizedTextFilter(\r\n    filteredData,\r\n    filters['consultation-filter-professional'],\r\n    (c) => c.professional || ''\r\n  );\r\n  filteredData = applyNormalizedTextFilter(\r\n    filteredData,\r\n    filters['consultation-filter-unit'],\r\n    (c) => c.unit || ''\r\n  );\r\n\r\n  return filteredData;\r\n};\r\n\r\nconst examFilterLogic = (data, filters) => {\r\n  let filteredData = [...data];\r\n\r\n  filteredData = applyNormalizedTextFilter(\r\n    filteredData,\r\n    filters['exam-filter-name'],\r\n    (item) => item.examName\r\n  );\r\n  filteredData = applyNormalizedTextFilter(\r\n    filteredData,\r\n    filters['exam-filter-professional'],\r\n    (item) => item.professional\r\n  );\r\n  filteredData = applyNormalizedTextFilter(\r\n    filteredData,\r\n    filters['exam-filter-specialty'],\r\n    (item) => item.specialty\r\n  );\r\n\r\n  return filteredData;\r\n};\r\n\r\nconst appointmentFilterLogic = (data, filters, fetchType) => {\r\n  let filteredData = [...data];\r\n  const status = filters['appointment-filter-status'] || 'todos';\r\n\r\n  if (status !== 'todos') {\r\n    filteredData = filteredData.filter(\r\n      (a) => (a.status || '').toUpperCase() === status.toUpperCase()\r\n    );\r\n  }\r\n\r\n  if (fetchType === 'consultas') {\r\n    filteredData = filteredData.filter(\r\n      (a) => !a.type.toUpperCase().includes('EXAME')\r\n    );\r\n  } else if (fetchType === 'exames') {\r\n    filteredData = filteredData.filter((a) =>\r\n      a.type.toUpperCase().includes('EXAME')\r\n    );\r\n  }\r\n\r\n  filteredData = applyNormalizedTextFilter(\r\n    filteredData,\r\n    filters['appointment-filter-term'],\r\n    (a) => [a.professional, a.specialty, a.description].join(' ')\r\n  );\r\n  filteredData = applyNormalizedTextFilter(\r\n    filteredData,\r\n    filters['appointment-filter-location'],\r\n    (a) => a.location || ''\r\n  );\r\n\r\n  return filteredData;\r\n};\r\n\r\nconst regulationFilterLogic = (data, filters) => {\r\n  let filteredData = [...data];\r\n  const status = filters['regulation-filter-status'] || 'todos';\r\n  const priority = filters['regulation-filter-priority'] || 'todas';\r\n\r\n  if (status !== 'todos') {\r\n    filteredData = filteredData.filter(\r\n      (item) => (item.status || '').toUpperCase() === status.toUpperCase()\r\n    );\r\n  }\r\n\r\n  if (priority !== 'todas') {\r\n    filteredData = filteredData.filter(\r\n      (item) => (item.priority || '').toUpperCase() === priority.toUpperCase()\r\n    );\r\n  }\r\n\r\n  filteredData = applyNormalizedTextFilter(\r\n    filteredData,\r\n    filters['regulation-filter-procedure'],\r\n    (item) => item.procedure || ''\r\n  );\r\n  filteredData = applyNormalizedTextFilter(\r\n    filteredData,\r\n    filters['regulation-filter-requester'],\r\n    (item) => item.requester || ''\r\n  );\r\n\r\n  return filteredData;\r\n};\r\n\r\nconst documentFilterLogic = (data, filters) => {\r\n  let filteredData = [...data];\r\n\r\n  // Filtro por data (client-side)\r\n  const startDateValue = document.getElementById(\r\n    'document-date-initial'\r\n  )?.value;\r\n  const endDateValue = document.getElementById('document-date-final')?.value;\r\n\r\n  if (startDateValue) {\r\n    const start = Utils.parseDate(startDateValue);\r\n    if (start) {\r\n      filteredData = filteredData.filter((doc) => {\r\n        const docDate = Utils.parseDate(doc.date.split(' ')[0]);\r\n        return docDate && docDate >= start;\r\n      });\r\n    }\r\n  }\r\n\r\n  if (endDateValue) {\r\n    const end = Utils.parseDate(endDateValue);\r\n    if (end) {\r\n      filteredData = filteredData.filter((doc) => {\r\n        const docDate = Utils.parseDate(doc.date.split(' ')[0]);\r\n        return docDate && docDate <= end;\r\n      });\r\n    }\r\n  }\r\n\r\n  // Filtro por palavra-chave normalizada\r\n  filteredData = applyNormalizedTextFilter(\r\n    filteredData,\r\n    filters['document-filter-keyword'],\r\n    (doc) => doc.description || ''\r\n  );\r\n\r\n  return filteredData;\r\n};\r\n\r\nconst sectionConfigurations = {\r\n  'patient-details': {}, // Seção especial sem fetch\r\n  timeline: {}, // Configuração da Timeline será tratada pelo seu próprio gestor\r\n  consultations: {\r\n    fetchFunction: API.fetchAllConsultations,\r\n    renderFunction: Renderers.renderConsultations,\r\n    initialSortState: { key: 'sortableDate', order: 'desc' },\r\n    filterLogic: consultationFilterLogic,\r\n  },\r\n  exams: {\r\n    fetchFunction: API.fetchExamesSolicitados,\r\n    renderFunction: Renderers.renderExams,\r\n    initialSortState: { key: 'date', order: 'desc' },\r\n    filterLogic: examFilterLogic,\r\n  },\r\n  appointments: {\r\n    fetchFunction: API.fetchAppointments,\r\n    renderFunction: Renderers.renderAppointments,\r\n    initialSortState: { key: 'date', order: 'desc' },\r\n    filterLogic: appointmentFilterLogic,\r\n  },\r\n  regulations: {\r\n    fetchFunction: API.fetchAllRegulations,\r\n    renderFunction: Renderers.renderRegulations,\r\n    initialSortState: { key: 'date', order: 'desc' },\r\n    filterLogic: regulationFilterLogic,\r\n  },\r\n  documents: {\r\n    fetchFunction: API.fetchDocuments,\r\n    renderFunction: Renderers.renderDocuments,\r\n    initialSortState: { key: 'date', order: 'desc' },\r\n    filterLogic: documentFilterLogic,\r\n  },\r\n};\r\n\r\n// --- FUNÇÕES DE ESTILO E ÍCONES ---\r\n\r\n/**\r\n * Injeta os ícones SVG nos cabeçalhos das seções.\r\n */\r\nfunction applySectionIcons() {\r\n  for (const sectionKey in sectionIcons) {\r\n    const iconContainer = document.getElementById(`${sectionKey}-section-icon`);\r\n    if (iconContainer) {\r\n      iconContainer.innerHTML = sectionIcons[sectionKey];\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Lê os estilos customizados do storage e os aplica aos cabeçalhos\r\n * usando Variáveis CSS (CSS Custom Properties) para melhor performance e manutenibilidade.\r\n * @param {object} styles - O objeto de estilos vindo do storage.\r\n */\r\nfunction applyCustomHeaderStyles(styles) {\r\n  // O CSS base com as variáveis e fallbacks já está definido em sidebar.html.\r\n  // Esta função apenas define os valores das variáveis para cada seção.\r\n\r\n  const defaultStyles = {\r\n    backgroundColor: '#ffffff',\r\n    color: '#1e293b',\r\n    iconColor: '#1e293b',\r\n    fontSize: '16px',\r\n  };\r\n\r\n  for (const sectionKey in sectionIcons) {\r\n    const sectionId =\r\n      sectionKey === 'patient-details'\r\n        ? 'patient-details-section'\r\n        : `${sectionKey}-section`;\r\n\r\n    const sectionElement = document.getElementById(sectionId);\r\n    if (!sectionElement) continue;\r\n\r\n    // Pega o estilo salvo para a seção ou usa um objeto vazio.\r\n    const savedStyle = styles[sectionKey] || {};\r\n    // Combina com os padrões para garantir que todas as propriedades existam.\r\n    const finalStyle = { ...defaultStyles, ...savedStyle };\r\n\r\n    // Define as variáveis CSS no elemento da seção.\r\n    sectionElement.style.setProperty(\r\n      '--section-bg-color',\r\n      finalStyle.backgroundColor\r\n    );\r\n    sectionElement.style.setProperty('--section-font-color', finalStyle.color);\r\n    sectionElement.style.setProperty(\r\n      '--section-icon-color',\r\n      finalStyle.iconColor\r\n    );\r\n    sectionElement.style.setProperty(\r\n      '--section-font-size',\r\n      finalStyle.fontSize\r\n    );\r\n  }\r\n}\r\n\r\nasync function selectPatient(patientInfo, forceRefresh = false) {\r\n  const currentPatient = store.getPatient();\r\n  if (\r\n    currentPatient &&\r\n    currentPatient.ficha.isenPK.idp === patientInfo.idp &&\r\n    !forceRefresh\r\n  ) {\r\n    return;\r\n  }\r\n  Utils.toggleLoader(true);\r\n  Utils.clearMessage();\r\n  store.setPatientUpdating();\r\n  try {\r\n    const ficha = await API.fetchVisualizaUsuario(patientInfo);\r\n    const cadsus = await API.fetchCadsusData({\r\n      cpf: Utils.getNestedValue(ficha, 'entidadeFisica.entfCPF'),\r\n      cns: ficha.isenNumCadSus,\r\n    });\r\n    Object.values(sectionManagers).forEach((manager) => {\r\n      if (typeof manager.clearAutomationFeedbackAndFilters === 'function') {\r\n        manager.clearAutomationFeedbackAndFilters(false);\r\n      } else if (typeof manager.clearAutomation === 'function') {\r\n        manager.clearAutomation();\r\n      }\r\n    });\r\n    store.setPatient(ficha, cadsus);\r\n    await updateRecentPatients(store.getPatient());\r\n  } catch (error) {\r\n    Utils.showMessage(error.message, 'error');\r\n    console.error(error);\r\n    store.clearPatient();\r\n  } finally {\r\n    Utils.toggleLoader(false);\r\n  }\r\n}\r\n\r\nasync function init() {\r\n  let baseUrlConfigured = true;\r\n\r\n  try {\r\n    await API.getBaseUrl();\r\n  } catch (error) {\r\n    if (error?.message === 'URL_BASE_NOT_CONFIGURED') {\r\n      baseUrlConfigured = false;\r\n\r\n      const mainContent = document.getElementById('main-content');\r\n      const urlWarning = document.getElementById('url-config-warning');\r\n      const openOptions = document.getElementById('open-options-from-warning');\r\n      const reloadSidebar = document.getElementById(\r\n        'reload-sidebar-from-warning'\r\n      );\r\n\r\n      if (mainContent) mainContent.classList.add('hidden');\r\n      if (urlWarning) urlWarning.classList.remove('hidden');\r\n\r\n      if (openOptions) {\r\n        openOptions.addEventListener('click', () =>\r\n          browser.runtime.openOptionsPage()\r\n        );\r\n      }\r\n      if (reloadSidebar) {\r\n        reloadSidebar.addEventListener('click', () => window.location.reload());\r\n      }\r\n\r\n      // **não retornamos mais aqui**, apenas marcamos que deu “fallback”\r\n    } else {\r\n      console.error('Initialization failed:', error);\r\n      Utils.showMessage(\r\n        'Ocorreu um erro inesperado ao iniciar a extensão.',\r\n        'error'\r\n      );\r\n      // nesse caso você pode querer return ou throw de verdade\r\n      return;\r\n    }\r\n  }\r\n\r\n  // === setup das abas: sempre rodar, mesmo sem baseURL ===\r\n  Utils.setupTabs(document.getElementById('layout-tabs-container'));\r\n  Utils.setupTabs(document.getElementById('patterns-tabs-container'));\r\n  // (adicione aqui quaisquer outros containers de aba que tenha)\r\n\r\n  // === só o resto do fluxo principal depende de baseUrlConfigured ===\r\n  if (!baseUrlConfigured) {\r\n    // já mostramos o formulário de URL, não temos mais nada a fazer\r\n    return;\r\n  }\r\n\r\n  // agora vem tudo o que precisa de baseURL\r\n  const [globalSettings, regulationPriorities] = await Promise.all([\r\n    loadConfigAndData(),\r\n    API.fetchRegulationPriorities(),\r\n  ]);\r\n\r\n  globalSettings.regulationPriorities = regulationPriorities;\r\n\r\n  applySectionIcons();\r\n  applyCustomHeaderStyles(globalSettings.sectionHeaderStyles);\r\n  applySectionOrder(globalSettings.sidebarSectionOrder);\r\n\r\n  Search.init({ onSelectPatient: selectPatient });\r\n  PatientCard.init(globalSettings.fieldConfigLayout, {\r\n    onForceRefresh: selectPatient,\r\n  });\r\n  initializeSections(globalSettings);\r\n  applyUserPreferences(globalSettings);\r\n  addGlobalEventListeners();\r\n  setupAutoModeToggle();\r\n\r\n  await checkForPendingRegulation();\r\n}\r\n\r\nasync function loadConfigAndData() {\r\n  const syncData = await browser.storage.sync.get({\r\n    patientFields: defaultFieldConfig,\r\n    filterLayout: {},\r\n    autoLoadExams: false,\r\n    autoLoadConsultations: false,\r\n    autoLoadAppointments: false,\r\n    autoLoadRegulations: false,\r\n    autoLoadDocuments: false,\r\n    enableAutomaticDetection: true,\r\n    dateRangeDefaults: {},\r\n    sidebarSectionOrder: [],\r\n    sectionHeaderStyles: {}, // Carrega a nova configuração de estilos\r\n  });\r\n  const localData = await browser.storage.local.get({\r\n    recentPatients: [],\r\n    savedFilterSets: {},\r\n    automationRules: [],\r\n  });\r\n  store.setRecentPatients(localData.recentPatients);\r\n  store.setSavedFilterSets(localData.savedFilterSets);\r\n\r\n  return {\r\n    fieldConfigLayout: defaultFieldConfig.map((defaultField) => {\r\n      const savedField = syncData.patientFields.find(\r\n        (f) => f.id === defaultField.id\r\n      );\r\n      return savedField ? { ...defaultField, ...savedField } : defaultField;\r\n    }),\r\n    filterLayout: syncData.filterLayout,\r\n    userPreferences: {\r\n      autoLoadExams: syncData.autoLoadExams,\r\n      autoLoadConsultations: syncData.autoLoadConsultations,\r\n      autoLoadAppointments: syncData.autoLoadAppointments,\r\n      autoLoadRegulations: syncData.autoLoadRegulations,\r\n      autoLoadDocuments: syncData.autoLoadDocuments,\r\n      enableAutomaticDetection: syncData.enableAutomaticDetection,\r\n      dateRangeDefaults: syncData.dateRangeDefaults,\r\n    },\r\n    sidebarSectionOrder: syncData.sidebarSectionOrder,\r\n    sectionHeaderStyles: syncData.sectionHeaderStyles, // Passa os estilos para frente\r\n  };\r\n}\r\n\r\nfunction applySectionOrder(order) {\r\n  const mainContent = document.getElementById('main-content');\r\n  if (!mainContent) return;\r\n\r\n  const sectionMap = {\r\n    'patient-details': 'patient-details-section',\r\n    timeline: 'timeline-section',\r\n    regulations: 'regulations-section',\r\n    consultations: 'consultations-section',\r\n    exams: 'exams-section',\r\n    appointments: 'appointments-section',\r\n    documents: 'documents-section',\r\n  };\r\n\r\n  const patientCardId = 'patient-details';\r\n\r\n  // Pega a ordem salva ou a ordem padrão do DOM\r\n  const savedOrder =\r\n    order && order.length > 0 ? order : Object.keys(sectionMap);\r\n\r\n  // Garante que a ficha do paciente esteja sempre no topo\r\n  // 1. Remove a ficha da ordem atual, não importa onde esteja.\r\n  const finalOrder = savedOrder.filter((id) => id !== patientCardId);\r\n  // 2. Adiciona a ficha no início da lista.\r\n  finalOrder.unshift(patientCardId);\r\n\r\n  // Adiciona quaisquer novas seções (não presentes na ordem salva) ao final\r\n  const knownIds = new Set(finalOrder);\r\n  Object.keys(sectionMap).forEach((id) => {\r\n    if (!knownIds.has(id)) {\r\n      finalOrder.push(id);\r\n    }\r\n  });\r\n\r\n  // Reordena os elementos no DOM\r\n  finalOrder.forEach((tabId) => {\r\n    const sectionId = sectionMap[tabId];\r\n    const sectionElement = document.getElementById(sectionId);\r\n    if (sectionElement) {\r\n      mainContent.appendChild(sectionElement);\r\n    }\r\n  });\r\n}\r\n\r\nfunction initializeSections(globalSettings) {\r\n  Object.keys(sectionConfigurations).forEach((key) => {\r\n    if (key === 'patient-details') return;\r\n    if (key === 'timeline') {\r\n      sectionManagers[key] = new TimelineManager(\r\n        key,\r\n        sectionConfigurations[key],\r\n        globalSettings\r\n      );\r\n      return;\r\n    }\r\n    sectionManagers[key] = new SectionManager(\r\n      key,\r\n      sectionConfigurations[key],\r\n      globalSettings\r\n    );\r\n  });\r\n}\r\n\r\nfunction applyUserPreferences(globalSettings) {\r\n  const { userPreferences, filterLayout } = globalSettings;\r\n  const { dateRangeDefaults } = userPreferences;\r\n\r\n  const sections = [\r\n    'consultations',\r\n    'exams',\r\n    'appointments',\r\n    'regulations',\r\n    'documents',\r\n  ];\r\n  const defaultSystemRanges = {\r\n    consultations: { start: -6, end: 0 },\r\n    exams: { start: -6, end: 0 },\r\n    appointments: { start: -1, end: 3 },\r\n    regulations: { start: -12, end: 0 },\r\n    documents: { start: -24, end: 0 },\r\n  };\r\n\r\n  sections.forEach((section) => {\r\n    const range = dateRangeDefaults[section] || defaultSystemRanges[section];\r\n    const prefix = section.replace(/s$/, '');\r\n\r\n    const initialEl = document.getElementById(`${prefix}-date-initial`);\r\n    const finalEl = document.getElementById(`${prefix}-date-final`);\r\n\r\n    if (initialEl)\r\n      initialEl.valueAsDate = Utils.calculateRelativeDate(range.start);\r\n    if (finalEl) finalEl.valueAsDate = Utils.calculateRelativeDate(range.end);\r\n  });\r\n\r\n  Object.values(filterLayout)\r\n    .flat()\r\n    .forEach((filterSetting) => {\r\n      const el = document.getElementById(filterSetting.id);\r\n      if (\r\n        el &&\r\n        filterSetting.defaultValue !== undefined &&\r\n        filterSetting.defaultValue !== null\r\n      ) {\r\n        if (el.type === 'checkbox') {\r\n          el.checked = filterSetting.defaultValue;\r\n        } else {\r\n          el.value = filterSetting.defaultValue;\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nfunction setupAutoModeToggle() {\r\n  const toggle = document.getElementById('auto-mode-toggle');\r\n  const label = document.getElementById('auto-mode-label');\r\n\r\n  browser.storage.sync\r\n    .get({ enableAutomaticDetection: true })\r\n    .then((settings) => {\r\n      toggle.checked = settings.enableAutomaticDetection;\r\n      label.textContent = settings.enableAutomaticDetection ? 'Auto' : 'Manual';\r\n    });\r\n\r\n  toggle.addEventListener('change', (event) => {\r\n    const isEnabled = event.target.checked;\r\n    browser.storage.sync.set({ enableAutomaticDetection: isEnabled });\r\n    label.textContent = isEnabled ? 'Auto' : 'Manual';\r\n  });\r\n}\r\n\r\nasync function handleRegulationLoaded(regulationData) {\r\n  Utils.toggleLoader(true);\r\n  try {\r\n    currentRegulationData = regulationData;\r\n\r\n    if (\r\n      regulationData &&\r\n      regulationData.isenPKIdp &&\r\n      regulationData.isenPKIds\r\n    ) {\r\n      const patientInfo = {\r\n        idp: regulationData.isenPKIdp,\r\n        ids: regulationData.isenPKIds,\r\n      };\r\n      await selectPatient(patientInfo);\r\n\r\n      const contextName =\r\n        regulationData.apcnNome || regulationData.prciNome || 'Contexto';\r\n      const infoBtn = document.getElementById('context-info-btn');\r\n      infoBtn.title = `Contexto: ${contextName.trim()}`;\r\n      infoBtn.classList.remove('hidden');\r\n\r\n      await applyAutomationRules(regulationData);\r\n    } else {\r\n      currentRegulationData = null;\r\n      Utils.showMessage(\r\n        'Não foi possível extrair os dados do paciente da regulação.',\r\n        'error'\r\n      );\r\n    }\r\n  } catch (error) {\r\n    currentRegulationData = null;\r\n    Utils.showMessage(\r\n      `Erro ao processar a regulação: ${error.message}`,\r\n      'error'\r\n    );\r\n    console.error('Erro ao processar a regulação:', error);\r\n  } finally {\r\n    Utils.toggleLoader(false);\r\n  }\r\n}\r\n\r\nasync function applyAutomationRules(regulationData) {\r\n  const { automationRules } = await browser.storage.local.get({\r\n    automationRules: [],\r\n  });\r\n  if (!automationRules || automationRules.length === 0) return;\r\n\r\n  const contextString = [\r\n    regulationData.prciNome || '',\r\n    regulationData.prciCodigo || '',\r\n    regulationData.apcnNome || '',\r\n    regulationData.apcnCod || '',\r\n  ]\r\n    .join(' ')\r\n    .toLowerCase();\r\n\r\n  for (const rule of automationRules) {\r\n    if (rule.isActive) {\r\n      const hasMatch = rule.triggerKeywords.some((keyword) =>\r\n        contextString.includes(keyword.toLowerCase().trim())\r\n      );\r\n\r\n      if (hasMatch) {\r\n        // Aplicar filtros nas seções existentes E na nova timeline\r\n        Object.entries(sectionManagers).forEach(([key, manager]) => {\r\n          if (\r\n            rule.filterSettings[key] &&\r\n            typeof manager.applyAutomationFilters === 'function'\r\n          ) {\r\n            manager.applyAutomationFilters(rule.filterSettings[key], rule.name);\r\n          }\r\n        });\r\n        return; // Aplica apenas a primeira regra correspondente\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction handleShowRegulationInfo() {\r\n  if (!currentRegulationData) {\r\n    Utils.showMessage('Nenhuma informação de regulação carregada.', 'info');\r\n    return;\r\n  }\r\n  const modalTitle = document.getElementById('modal-title');\r\n  const modalContent = document.getElementById('modal-content');\r\n  const infoModal = document.getElementById('info-modal');\r\n\r\n  modalTitle.textContent = 'Dados da Regulação (JSON)';\r\n  const formattedJson = JSON.stringify(currentRegulationData, null, 2);\r\n\r\n  modalContent.innerHTML = `<pre class=\"bg-slate-100 p-2 rounded-md text-xs whitespace-pre-wrap break-all\">${formattedJson}</pre>`;\r\n\r\n  infoModal.classList.remove('hidden');\r\n}\r\n\r\nfunction addGlobalEventListeners() {\r\n  const mainContent = document.getElementById('main-content');\r\n  const infoModal = document.getElementById('info-modal');\r\n  const modalCloseBtn = document.getElementById('modal-close-btn');\r\n  const infoBtn = document.getElementById('context-info-btn');\r\n  const reloadBtn = document.getElementById('reload-sidebar-btn');\r\n\r\n  if (reloadBtn) {\r\n    reloadBtn.addEventListener('click', () => {\r\n      const patient = store.getPatient();\r\n      if (patient && patient.ficha) {\r\n        const confirmation = window.confirm(\r\n          'Um paciente está selecionado e o estado atual será perdido. Deseja realmente recarregar o assistente?'\r\n        );\r\n        if (confirmation) {\r\n          window.location.reload();\r\n        }\r\n      } else {\r\n        window.location.reload();\r\n      }\r\n    });\r\n  }\r\n\r\n  modalCloseBtn.addEventListener('click', () =>\r\n    infoModal.classList.add('hidden')\r\n  );\r\n  infoModal.addEventListener('click', (e) => {\r\n    if (e.target === infoModal) infoModal.classList.add('hidden');\r\n  });\r\n  mainContent.addEventListener('click', handleGlobalActions);\r\n  infoBtn.addEventListener('click', handleShowRegulationInfo);\r\n\r\n  browser.storage.onChanged.addListener((changes, areaName) => {\r\n    if (areaName === 'local' && changes.pendingRegulation) {\r\n      // Apenas processa se a detecção automática estiver LIGADA\r\n      browser.storage.sync\r\n        .get({ enableAutomaticDetection: true })\r\n        .then((settings) => {\r\n          if (settings.enableAutomaticDetection) {\r\n            const { newValue } = changes.pendingRegulation;\r\n            if (newValue && newValue.isenPKIdp) {\r\n              console.log(\r\n                '[Assistente Sidebar] Nova regulação detectada via storage.onChanged:',\r\n                newValue\r\n              );\r\n              handleRegulationLoaded(newValue);\r\n              browser.storage.local.remove('pendingRegulation');\r\n            }\r\n          }\r\n        });\r\n    }\r\n\r\n    if (areaName === 'sync' && changes.sectionHeaderStyles) {\r\n      window.location.reload();\r\n    }\r\n\r\n    if (areaName === 'sync' && changes.enableAutomaticDetection) {\r\n      // Mantém o botão da sidebar sincronizado com a configuração\r\n      setupAutoModeToggle();\r\n    }\r\n  });\r\n}\r\n\r\nasync function handleGlobalActions(event) {\r\n  const target = event.target;\r\n  const copyBtn = target.closest('.copy-icon');\r\n  if (copyBtn) {\r\n    await copyToClipboard(copyBtn);\r\n    return;\r\n  }\r\n  const examResultBtn = target.closest('.view-exam-result-btn');\r\n  if (examResultBtn) {\r\n    await handleViewExamResult(examResultBtn);\r\n    return;\r\n  }\r\n\r\n  const appointmentDetailsBtn = target.closest('.view-appointment-details-btn');\r\n  if (appointmentDetailsBtn) {\r\n    await handleShowAppointmentDetailsModal(appointmentDetailsBtn);\r\n    return;\r\n  }\r\n  const regulationDetailsBtn = target.closest('.view-regulation-details-btn');\r\n  if (regulationDetailsBtn) {\r\n    await handleShowRegulationDetailsModal(regulationDetailsBtn);\r\n    return;\r\n  }\r\n\r\n  const appointmentInfoBtn = target.closest('.appointment-info-btn');\r\n  if (appointmentInfoBtn) {\r\n    handleShowAppointmentInfo(appointmentInfoBtn);\r\n    return;\r\n  }\r\n\r\n  const documentBtn = target.closest('.view-document-btn');\r\n  if (documentBtn) {\r\n    await handleViewDocument(documentBtn);\r\n    return;\r\n  }\r\n\r\n  const regulationAttachmentBtn = target.closest(\r\n    '.view-regulation-attachment-btn'\r\n  );\r\n  if (regulationAttachmentBtn) {\r\n    await handleViewRegulationAttachment(regulationAttachmentBtn);\r\n    return;\r\n  }\r\n}\r\n\r\nasync function copyToClipboard(button) {\r\n  if (button.dataset.inProgress === 'true') return;\r\n  const textToCopy = button.dataset.copyText;\r\n  if (!textToCopy) return;\r\n  button.dataset.inProgress = 'true';\r\n  try {\r\n    await navigator.clipboard.writeText(textToCopy);\r\n    button.textContent = '✅';\r\n  } catch (err) {\r\n    console.error('Falha ao copiar texto: ', err);\r\n    button.textContent = '❌';\r\n  } finally {\r\n    setTimeout(() => {\r\n      button.textContent = '📄';\r\n      button.dataset.inProgress = 'false';\r\n    }, 1200);\r\n  }\r\n}\r\n\r\nasync function updateRecentPatients(patientData) {\r\n  if (!patientData || !patientData.ficha) return;\r\n  const newRecent = { ...patientData };\r\n  const currentRecents = store.getRecentPatients();\r\n  const filtered = (currentRecents || []).filter(\r\n    (p) => p.ficha.isenPK.idp !== newRecent.ficha.isenPK.idp\r\n  );\r\n  const updatedRecents = [newRecent, ...filtered].slice(0, 5);\r\n  await browser.storage.local.set({ recentPatients: updatedRecents });\r\n  store.setRecentPatients(updatedRecents);\r\n}\r\n\r\nasync function handleViewExamResult(button) {\r\n  const { idp, ids } = button.dataset;\r\n  const newTab = window.open('', '_blank');\r\n  newTab.document.write('Carregando resultado do exame...');\r\n  try {\r\n    const filePath = await API.fetchResultadoExame({ idp, ids });\r\n    const baseUrl = await API.getBaseUrl();\r\n    if (filePath) {\r\n      const fullUrl = filePath.startsWith('http')\r\n        ? filePath\r\n        : `${baseUrl}${filePath}`;\r\n      newTab.location.href = fullUrl;\r\n    } else {\r\n      newTab.document.body.innerHTML = '<p>Resultado não encontrado.</p>';\r\n    }\r\n  } catch (error) {\r\n    newTab.document.body.innerHTML = `<p>Erro: ${error.message}</p>`;\r\n  }\r\n}\r\n\r\nasync function handleViewDocument(button) {\r\n  const { idp, ids } = button.dataset;\r\n  const newTab = window.open('', '_blank');\r\n  newTab.document.write('Carregando documento...');\r\n\r\n  try {\r\n    const docUrl = await API.fetchDocumentUrl({ idp, ids });\r\n    if (docUrl) {\r\n      newTab.location.href = docUrl;\r\n    } else {\r\n      newTab.document.body.innerHTML =\r\n        '<p>URL do documento não encontrada.</p>';\r\n    }\r\n  } catch (error) {\r\n    newTab.document.body.innerHTML = `<p>Erro ao carregar documento: ${error.message}</p>`;\r\n    console.error('Falha ao visualizar documento:', error);\r\n  }\r\n}\r\n\r\nasync function handleViewRegulationAttachment(button) {\r\n  const { idp, ids } = button.dataset;\r\n\r\n  try {\r\n    const fileUrl = await API.fetchRegulationAttachmentUrl({ idp, ids });\r\n    if (fileUrl) {\r\n      // Use browser extension API instead of window.open\r\n      const api = browser || chrome;\r\n      await api.tabs.create({ url: fileUrl });\r\n    } else {\r\n      console.warn('⚠️ URL do anexo não encontrada');\r\n    }\r\n  } catch (error) {\r\n    console.error('❌ Erro ao carregar anexo da regulação:', error);\r\n  }\r\n}\r\n\r\nfunction showModal(title, content) {\r\n  const modal = document.getElementById('info-modal');\r\n  const modalTitle = document.getElementById('modal-title');\r\n  const modalContent = document.getElementById('modal-content');\r\n\r\n  modalTitle.textContent = title;\r\n  modalContent.innerHTML = content;\r\n  modal.classList.remove('hidden');\r\n}\r\n\r\nfunction createDetailRow(label, value) {\r\n  if (!value || String(value).trim() === '') return '';\r\n  return `<div class=\"py-2 border-b border-slate-100 flex justify-between items-start gap-4\">\r\n            <span class=\"font-semibold text-slate-600 flex-shrink-0\">${label}:</span>\r\n            <span class=\"text-slate-800 text-right break-words\">${value}</span>\r\n          </div>`;\r\n}\r\n\r\nfunction formatRegulationDetailsForModal(data) {\r\n  if (!data) return '<p>Dados da regulação não encontrados.</p>';\r\n  let content = '';\r\n  content += createDetailRow('Status', data.reguStatus);\r\n  content += createDetailRow(\r\n    'Tipo',\r\n    data.reguTipo === 'ENC' ? 'Consulta' : 'Exame'\r\n  );\r\n  content += createDetailRow('Data Solicitação', data.reguDataStr);\r\n  content += createDetailRow('Procedimento', data.prciNome);\r\n  content += createDetailRow('CID', `${data.tcidCod} - ${data.tcidDescricao}`);\r\n  content += createDetailRow('Profissional Sol.', data.prsaEntiNome);\r\n  content += createDetailRow('Unidade Sol.', data.limoSolicitanteNome);\r\n  content += createDetailRow('Unidade Desejada', data.limoDesejadaNome);\r\n  content += createDetailRow('Gravidade', data.reguGravidade);\r\n  if (data.reguJustificativa && data.reguJustificativa !== 'null') {\r\n    content += `<div class=\"py-2\">\r\n                      <span class=\"font-semibold text-slate-600\">Justificativa:</span>\r\n                      <p class=\"text-slate-800 whitespace-pre-wrap mt-1 p-2 bg-slate-50 rounded\">${data.reguJustificativa.replace(\r\n    /\\\\n/g,\r\n    '\\n'\r\n  )}</p>\r\n                  </div>`;\r\n  }\r\n  return content;\r\n}\r\n\r\nfunction formatAppointmentDetailsForModal(data) {\r\n  if (!data) return '<p>Dados do agendamento não encontrados.</p>';\r\n\r\n  let status = 'Agendado';\r\n  if (data.agcoIsCancelado === 't') status = 'Cancelado';\r\n  else if (data.agcoIsFaltante === 't') status = 'Faltou';\r\n  else if (data.agcoIsAtendido === 't') status = 'Atendido';\r\n\r\n  let content = '';\r\n  content += createDetailRow('Status', status);\r\n  content += createDetailRow(\r\n    'Data',\r\n    `${data.agcoData} às ${data.agcoHoraPrevista}`\r\n  );\r\n  content += createDetailRow(\r\n    'Local',\r\n    data.unidadeSaudeDestino?.entidade?.entiNome\r\n  );\r\n  content += createDetailRow(\r\n    'Profissional',\r\n    data.profissionalDestino?.entidadeFisica?.entidade?.entiNome\r\n  );\r\n  content += createDetailRow(\r\n    'Especialidade',\r\n    data.atividadeProfissionalCnes?.apcnNome\r\n  );\r\n  content += createDetailRow('Procedimento', data.procedimento?.prciNome);\r\n  content += createDetailRow('Convênio', data.convenio?.entidade?.entiNome);\r\n  if (data.agcoObs) {\r\n    content += `<div class=\"py-2\">\r\n                        <span class=\"font-semibold text-slate-600\">Observação:</span>\r\n                        <p class=\"text-slate-800 whitespace-pre-wrap mt-1 p-2 bg-slate-50 rounded\">${data.agcoObs}</p>\r\n                    </div>`;\r\n  }\r\n  return content;\r\n}\r\n\r\nfunction formatExamAppointmentDetailsForModal(data) {\r\n  if (!data) return '<p>Dados do agendamento de exame não encontrados.</p>';\r\n\r\n  let content = '';\r\n  content += createDetailRow('Data Agendamento', data.examDataCad);\r\n  content += createDetailRow(\r\n    'Unidade Origem',\r\n    data.ligacaoModularOrigem?.limoNome\r\n  );\r\n  content += createDetailRow(\r\n    'Unidade Destino',\r\n    data.ligacaoModularDestino?.limoNome\r\n  );\r\n  content += createDetailRow(\r\n    'Profissional Sol.',\r\n    data.profissional?.entidadeFisica?.entidade?.entiNome\r\n  );\r\n  content += createDetailRow('Caráter', data.CaraterAtendimento?.caraDescri);\r\n  content += createDetailRow('Critério', data.criterioExame?.critNome);\r\n\r\n  return content;\r\n}\r\n\r\nasync function handleShowRegulationDetailsModal(button) {\r\n  const { idp, ids } = button.dataset;\r\n  showModal('Detalhes da Regulação', '<p>Carregando...</p>');\r\n  try {\r\n    const data = await API.fetchRegulationDetails({\r\n      reguIdp: idp,\r\n      reguIds: ids,\r\n    });\r\n    const content = formatRegulationDetailsForModal(data);\r\n    showModal('Detalhes da Regulação', content);\r\n  } catch (error) {\r\n    showModal(\r\n      'Erro',\r\n      `<p>Não foi possível carregar os detalhes: ${error.message}</p>`\r\n    );\r\n  }\r\n}\r\n\r\nasync function handleShowAppointmentDetailsModal(button) {\r\n  const { idp, ids, type } = button.dataset;\r\n  const isExam = type.toUpperCase().includes('EXAME');\r\n  const title = isExam\r\n    ? 'Detalhes do Agendamento de Exame'\r\n    : 'Detalhes da Consulta Agendada';\r\n\r\n  showModal(title, '<p>Carregando...</p>');\r\n\r\n  try {\r\n    let data;\r\n    let content;\r\n    if (isExam) {\r\n      data = await API.fetchExamAppointmentDetails({ idp, ids });\r\n      content = formatExamAppointmentDetailsForModal(data);\r\n    } else {\r\n      data = await API.fetchAppointmentDetails({ idp, ids });\r\n      content = formatAppointmentDetailsForModal(data);\r\n    }\r\n    showModal(title, content);\r\n  } catch (error) {\r\n    showModal(\r\n      'Erro',\r\n      `<p>Não foi possível carregar os detalhes: ${error.message}</p>`\r\n    );\r\n  }\r\n}\r\n\r\nfunction handleShowAppointmentInfo(button) {\r\n  const data = JSON.parse(button.dataset.appointment);\r\n  const modalTitle = document.getElementById('modal-title');\r\n  const modalContent = document.getElementById('modal-content');\r\n  const infoModal = document.getElementById('info-modal');\r\n  modalTitle.textContent = 'Detalhes do Agendamento';\r\n  modalContent.innerHTML = `\r\n        <p><strong>ID:</strong> ${data.id}</p>\r\n        <p><strong>Tipo:</strong> ${\r\n  data.isSpecialized\r\n    ? 'Especializada'\r\n    : data.isOdonto\r\n      ? 'Odontológica'\r\n      : data.type\r\n}</p>\r\n        <p><strong>Status:</strong> ${data.status}</p>\r\n        <p><strong>Data:</strong> ${data.date} às ${data.time}</p>\r\n        <p><strong>Local:</strong> ${data.location}</p>\r\n        <p><strong>Profissional:</strong> ${data.professional}</p>\r\n        <p><strong>Especialidade:</strong> ${data.specialty || 'N/A'}</p>\r\n        <p><strong>Procedimento:</strong> ${data.description}</p>\r\n    `;\r\n  infoModal.classList.remove('hidden');\r\n}\r\n\r\nasync function checkForPendingRegulation() {\r\n  try {\r\n    const { pendingRegulation } = await browser.storage.local.get(\r\n      'pendingRegulation'\r\n    );\r\n    if (pendingRegulation && pendingRegulation.isenPKIdp) {\r\n      await handleRegulationLoaded(pendingRegulation);\r\n      await browser.storage.local.remove('pendingRegulation');\r\n    }\r\n  } catch (e) {\r\n    console.error('Erro ao verificar regulação pendente:', e);\r\n  }\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', init);\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"sidebar\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkassistente_de_regulacao_medica\"] = self[\"webpackChunkassistente_de_regulacao_medica\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"common\"], () => (__webpack_require__(\"./sidebar.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["API","defaultFieldConfig","Renderers","SectionManager","store","TimelineManager","PatientCard","Search","Utils","sectionIcons","timeline","regulations","consultations","exams","appointments","documents","currentRegulationData","sectionManagers","applyNormalizedTextFilter","items","text","getFieldContent","searchTerms","normalizeString","split","map","t","trim","filter","Boolean","length","item","content","some","term","includes","consultationFilterLogic","data","filters","filteredData","c","isNoShow","specialty","professional","unit","details","d","label","value","join","examFilterLogic","examName","appointmentFilterLogic","fetchType","status","a","toUpperCase","type","description","location","regulationFilterLogic","priority","procedure","requester","documentFilterLogic","_document$getElementB","_document$getElementB2","startDateValue","document","getElementById","endDateValue","start","parseDate","doc","docDate","date","end","sectionConfigurations","fetchFunction","fetchAllConsultations","renderFunction","renderConsultations","initialSortState","key","order","filterLogic","fetchExamesSolicitados","renderExams","fetchAppointments","renderAppointments","fetchAllRegulations","renderRegulations","fetchDocuments","renderDocuments","applySectionIcons","sectionKey","iconContainer","innerHTML","applyCustomHeaderStyles","styles","defaultStyles","backgroundColor","color","iconColor","fontSize","sectionId","sectionElement","savedStyle","finalStyle","style","setProperty","selectPatient","patientInfo","forceRefresh","currentPatient","getPatient","ficha","isenPK","idp","toggleLoader","clearMessage","setPatientUpdating","fetchVisualizaUsuario","cadsus","fetchCadsusData","cpf","getNestedValue","cns","isenNumCadSus","Object","values","forEach","manager","clearAutomationFeedbackAndFilters","clearAutomation","setPatient","updateRecentPatients","error","showMessage","message","console","clearPatient","init","baseUrlConfigured","getBaseUrl","mainContent","urlWarning","openOptions","reloadSidebar","classList","add","remove","addEventListener","browser","runtime","openOptionsPage","window","reload","setupTabs","globalSettings","regulationPriorities","Promise","all","loadConfigAndData","fetchRegulationPriorities","sectionHeaderStyles","applySectionOrder","sidebarSectionOrder","onSelectPatient","fieldConfigLayout","onForceRefresh","initializeSections","applyUserPreferences","addGlobalEventListeners","setupAutoModeToggle","checkForPendingRegulation","syncData","storage","sync","get","patientFields","filterLayout","autoLoadExams","autoLoadConsultations","autoLoadAppointments","autoLoadRegulations","autoLoadDocuments","enableAutomaticDetection","dateRangeDefaults","localData","local","recentPatients","savedFilterSets","automationRules","setRecentPatients","setSavedFilterSets","defaultField","savedField","find","f","id","userPreferences","sectionMap","patientCardId","savedOrder","keys","finalOrder","unshift","knownIds","Set","has","push","tabId","appendChild","sections","defaultSystemRanges","section","range","prefix","replace","initialEl","finalEl","valueAsDate","calculateRelativeDate","flat","filterSetting","el","defaultValue","undefined","checked","toggle","then","settings","textContent","event","isEnabled","target","set","handleRegulationLoaded","regulationData","isenPKIdp","isenPKIds","ids","contextName","apcnNome","prciNome","infoBtn","title","applyAutomationRules","contextString","prciCodigo","apcnCod","toLowerCase","rule","isActive","hasMatch","triggerKeywords","keyword","entries","filterSettings","applyAutomationFilters","name","handleShowRegulationInfo","modalTitle","modalContent","infoModal","formattedJson","JSON","stringify","modalCloseBtn","reloadBtn","patient","confirmation","confirm","e","handleGlobalActions","onChanged","addListener","changes","areaName","pendingRegulation","newValue","log","copyBtn","closest","copyToClipboard","examResultBtn","handleViewExamResult","appointmentDetailsBtn","handleShowAppointmentDetailsModal","regulationDetailsBtn","handleShowRegulationDetailsModal","appointmentInfoBtn","handleShowAppointmentInfo","documentBtn","handleViewDocument","regulationAttachmentBtn","handleViewRegulationAttachment","button","dataset","inProgress","textToCopy","copyText","navigator","clipboard","writeText","err","setTimeout","patientData","newRecent","currentRecents","getRecentPatients","filtered","p","updatedRecents","slice","newTab","open","write","filePath","fetchResultadoExame","baseUrl","fullUrl","startsWith","href","body","docUrl","fetchDocumentUrl","fileUrl","fetchRegulationAttachmentUrl","api","chrome","tabs","create","url","warn","showModal","modal","createDetailRow","String","formatRegulationDetailsForModal","reguStatus","reguTipo","reguDataStr","tcidCod","tcidDescricao","prsaEntiNome","limoSolicitanteNome","limoDesejadaNome","reguGravidade","reguJustificativa","formatAppointmentDetailsForModal","_data$unidadeSaudeDes","_data$unidadeSaudeDes2","_data$profissionalDes","_data$profissionalDes2","_data$profissionalDes3","_data$atividadeProfis","_data$procedimento","_data$convenio","_data$convenio$entida","agcoIsCancelado","agcoIsFaltante","agcoIsAtendido","agcoData","agcoHoraPrevista","unidadeSaudeDestino","entidade","entiNome","profissionalDestino","entidadeFisica","atividadeProfissionalCnes","procedimento","convenio","agcoObs","formatExamAppointmentDetailsForModal","_data$ligacaoModularO","_data$ligacaoModularD","_data$profissional","_data$profissional$en","_data$profissional$en2","_data$CaraterAtendime","_data$criterioExame","examDataCad","ligacaoModularOrigem","limoNome","ligacaoModularDestino","profissional","CaraterAtendimento","caraDescri","criterioExame","critNome","fetchRegulationDetails","reguIdp","reguIds","isExam","fetchExamAppointmentDetails","fetchAppointmentDetails","parse","appointment","isSpecialized","isOdonto","time"],"sourceRoot":""}